<html>
  <head>
    <title>Edge Impulse | BrilliantSole JavaScript SDK</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <script type="module" src="./script.js"></script>
  </head>

  <style>
    .column {
      display: flex;
      flex-direction: column;
    }
    label {
      display: block;
    }
    div {
      margin-top: 1rem;
    }
    ul,
    ol {
      margin-top: 0;
      list-style: none;
    }
    .hidden {
      display: none;
    }
    .flexColorsContainer {
      display: flex;
      flex-wrap: wrap;
    }
    .flexColorsContainer > * {
      /* flex: 0 0 120px; */
      margin-right: 10px;
    }
    #bitmap canvas {
      width: 200px;
      height: 200px;
      background-color: black;
    }
    #bitmap img {
      width: 200px;
      height: 200px;
      background-color: black;
      image-rendering: pixelated;
    }

    #topInferenceClass {
      font-size: 72px;
      font-weight: bolder;
    }
  </style>
  <body>
    <nav>
      <a href="../../">home</a>
    </nav>

    <h1>Edge Impulse | BrilliantSole JavaScript SDK</h1>

    <h3>Available Devices</h3>
    <div id="availableDevices">
      <template id="availableDeviceTemplate">
        <div class="availableDevice">
          <ul>
            <li><b>name: </b> <span class="name"></span></li>
            <li><b>type: </b> <span class="type"></span></li>
            <li><button class="toggleConnection">connect</button></li>
          </ul>
        </div>
      </template>
    </div>

    <h3>Device Connection</h3>
    <button id="toggleConnection">connect</button>
    <button id="reconnect" disabled>reconnect</button>
    <label
      >reconnect on disconnection?
      <input id="reconnectOnDisconnection" type="checkbox"
    /></label>

    <h3>Device Information</h3>
    <pre id="deviceInformationPre"></pre>
    <div class="column">
      <label>name: <span id="name"></span></label>
      <label>battery level: <span id="batteryLevel">_</span>%</label>
      <label>type: <span id="type"></span></label>
    </div>
    <label>
      sensor configuration:
      <pre id="sensorConfigurationPre"></pre>
    </label>

    <h3>Keys</h3>

    <div class="column">
      <label>api key <input type="string" id="apiKey" size="70" /></label>
      <label>project id <input type="string" id="projectId" size="8" /></label>
    </div>

    <h3>Remote Management</h3>

    <button id="toggleRemoteManagementConnection" disabled>connect</button>
    <label>
      reconnect on disconnection?
      <input id="reconnectRemoteManagementOnDisconnection" type="checkbox" />
    </label>

    <h3>Sensor Types</h3>

    <div id="sensorTypes" class="column">
      <template id="sensorTypeTemplate">
        <label class="sensorType">
          <b class="name"></b>
          <input class="enabled" type="checkbox" />
        </label>
      </template>
    </div>

    <h3>Sampling</h3>

    <div class="column">
      <label>path <input id="path" type="text" readonly /></label>
      <label>label <input id="label" type="text" /></label>

      <label>
        interval (ms)
        <input
          id="samplingInterval"
          type="number"
          min="10"
          value="20"
          step="5"
          max="1000"
        />
      </label>
      <label
        >number of samples
        <input id="numberOfSamples" type="number" min="1" value="1" step="1"
      /></label>
      <label>
        length (ms)
        <input
          id="samplingLength"
          readonly
          type="number"
          min="10"
          value="20"
          step="5"
          max="60000"
        />
      </label>
    </div>

    <button id="getHmacKey" disabled>get hmacKey</button>
    <button id="toggleSampling" disabled>start sampling</button>

    <div id="camera" hidden>
      <h3>camera</h3>

      <label>
        <b>is camera available?</b>
        <span id="isCameraAvailable"></span>
      </label>

      <label><b>status:</b> <span id="cameraStatus"></span></label>

      <label>auto picture: <input type="checkbox" id="autoPicture" /> </label>

      <button disabled id="takePicture">take picture</button>
      <progress value="0" id="cameraImageProgress"></progress>
      <br />
      <button disabled id="focusCamera">focus camera</button>
      <br />
      <button disabled id="sleepCamera">sleep camera</button>
      <br />

      <div style="display: flex; flex-direction: row">
        <div>
          <label>
            <b>camera configuration: </b>
            <pre id="cameraConfigurationPre"></pre>
          </label>
          <br />

          <label>
            take picture after update?
            <input type="checkbox" id="takePictureAfterUpdate" />
          </label>

          <div id="cameraConfiguration">
            <template id="cameraConfigurationTypeTemplate">
              <label class="cameraConfigurationType">
                <b class="type"></b> <span></span>
                <br />
                <input class="value" type="range" value="" disabled />
              </label>
            </template>
          </div>
          <label>
            <b>white balance</b>
            <input type="color" id="cameraWhiteBalance" disabled />
          </label>
        </div>
        <div>
          <img id="cameraImage" />
        </div>
      </div>
    </div>

    <div id="microphone" hidden>
      <h3>Microphone</h3>

      <label>
        <b>is microphone available?</b>
        <span id="isMicrophoneAvailable"></span>
      </label>

      <label><b>status:</b> <span id="microphoneStatus"></span></label>

      <button disabled hidden id="toggleMicrophone">start microphone</button>
      <button disabled id="startMicrophone">start microphone</button>
      <button disabled id="stopMicrophone">stop microphone</button>
      <button disabled id="enableMicrophoneVad">
        enable microphone voice activity detection
      </button>
      <br />
      <button disabled id="toggleMicrophoneRecording">start recording</button>

      <div>
        <label>
          <b>microphone configuration: </b>
          <pre id="microphoneConfigurationPre"></pre>
        </label>
        <br />

        <div id="microphoneConfiguration">
          <template id="microphoneConfigurationTypeTemplate">
            <label class="microphoneConfigurationType">
              <b class="type"></b> <span hidden></span>
              <select disabled>
                <optgroup></optgroup>
              </select>
            </label>
          </template>
        </div>

        <div>
          <b>stream</b>
          <br />
          <audio id="microphoneStream" controls autoplay></audio>
        </div>

        <div>
          <b>recording</b>
          <label>
            auto play
            <input type="checkbox" id="autoPlayMicrophoneRecording" />
          </label>
          <br />
          <audio id="microphoneRecording" controls></audio>
        </div>
      </div>
    </div>
  </body>
</html>
