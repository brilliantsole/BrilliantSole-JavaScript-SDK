{"version":3,"file":"brilliantsole.js","sources":["../node_modules/tslib/tslib.es6.js","../src/utils/environment.ts","../src/utils/Console.ts","../src/utils/EventDispatcher.ts","../src/utils/Timer.ts","../src/utils/checksum.ts","../src/utils/Text.ts","../src/utils/ArrayBufferUtils.ts","../src/FileTransferManager.ts","../src/utils/MathUtils.ts","../src/utils/RangeHelper.ts","../src/utils/CenterOfPressureHelper.ts","../src/utils/ArrayUtils.ts","../src/sensor/PressureSensorDataManager.ts","../src/sensor/MotionSensorDataManager.ts","../src/sensor/BarometerSensorDataManager.ts","../src/utils/ParseUtils.ts","../src/sensor/SensorDataManager.ts","../src/sensor/SensorConfigurationManager.ts","../src/TfliteManager.ts","../src/DeviceInformationManager.ts","../src/InformationManager.ts","../src/vibration/VibrationWaveformEffects.ts","../src/vibration/VibrationManager.ts","../src/connection/BaseConnectionManager.ts","../src/utils/stringUtils.ts","../src/utils/EventUtils.ts","../src/connection/bluetooth/bluetoothUUIDs.ts","../src/connection/bluetooth/BluetoothConnectionManager.ts","../src/connection/bluetooth/WebBluetoothConnectionManager.ts","../src/utils/cbor.js","../src/utils/mcumgr.js","../src/FirmwareManager.ts","../src/Device.ts","../src/devicePair/DevicePairPressureSensorDataManager.ts","../src/devicePair/DevicePairSensorDataManager.ts","../src/devicePair/DevicePair.ts","../src/server/ServerUtils.ts","../src/connection/webSocket/WebSocketClientConnectionManager.ts","../src/server/BaseClient.ts","../src/server/websocket/WebSocketClient.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2016 Patrick Gansterer <paroga@paroga.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst POW_2_24 = 5.960464477539063e-8;\nconst POW_2_32 = 4294967296;\nconst POW_2_53 = 9007199254740992;\n\nexport function encode(value) {\n  let data = new ArrayBuffer(256);\n  let dataView = new DataView(data);\n  let lastLength;\n  let offset = 0;\n\n  function prepareWrite(length) {\n    let newByteLength = data.byteLength;\n    const requiredLength = offset + length;\n    while (newByteLength < requiredLength) {\n      newByteLength <<= 1;\n    }\n    if (newByteLength !== data.byteLength) {\n      const oldDataView = dataView;\n      data = new ArrayBuffer(newByteLength);\n      dataView = new DataView(data);\n      const uint32count = (offset + 3) >> 2;\n      for (let i = 0; i < uint32count; ++i) {\n        dataView.setUint32(i << 2, oldDataView.getUint32(i << 2));\n      }\n    }\n\n    lastLength = length;\n    return dataView;\n  }\n  function commitWrite() {\n    offset += lastLength;\n  }\n  function writeFloat64(value) {\n    commitWrite(prepareWrite(8).setFloat64(offset, value));\n  }\n  function writeUint8(value) {\n    commitWrite(prepareWrite(1).setUint8(offset, value));\n  }\n  function writeUint8Array(value) {\n    const dataView = prepareWrite(value.length);\n    for (let i = 0; i < value.length; ++i) {\n      dataView.setUint8(offset + i, value[i]);\n    }\n    commitWrite();\n  }\n  function writeUint16(value) {\n    commitWrite(prepareWrite(2).setUint16(offset, value));\n  }\n  function writeUint32(value) {\n    commitWrite(prepareWrite(4).setUint32(offset, value));\n  }\n  function writeUint64(value) {\n    const low = value % POW_2_32;\n    const high = (value - low) / POW_2_32;\n    const dataView = prepareWrite(8);\n    dataView.setUint32(offset, high);\n    dataView.setUint32(offset + 4, low);\n    commitWrite();\n  }\n  function writeTypeAndLength(type, length) {\n    if (length < 24) {\n      writeUint8((type << 5) | length);\n    } else if (length < 0x100) {\n      writeUint8((type << 5) | 24);\n      writeUint8(length);\n    } else if (length < 0x10000) {\n      writeUint8((type << 5) | 25);\n      writeUint16(length);\n    } else if (length < 0x100000000) {\n      writeUint8((type << 5) | 26);\n      writeUint32(length);\n    } else {\n      writeUint8((type << 5) | 27);\n      writeUint64(length);\n    }\n  }\n\n  function encodeItem(value) {\n    let i;\n    const utf8data = [];\n    let length;\n\n    if (value === false) {\n      return writeUint8(0xf4);\n    }\n    if (value === true) {\n      return writeUint8(0xf5);\n    }\n    if (value === null) {\n      return writeUint8(0xf6);\n    }\n    if (value === undefined) {\n      return writeUint8(0xf7);\n    }\n\n    switch (typeof value) {\n      case \"number\":\n        if (Math.floor(value) === value) {\n          if (value >= 0 && value <= POW_2_53) {\n            return writeTypeAndLength(0, value);\n          }\n          if (-POW_2_53 <= value && value < 0) {\n            return writeTypeAndLength(1, -(value + 1));\n          }\n        }\n        writeUint8(0xfb);\n        return writeFloat64(value);\n\n      case \"string\":\n        for (i = 0; i < value.length; ++i) {\n          let charCode = value.charCodeAt(i);\n          if (charCode < 0x80) {\n            utf8data.push(charCode);\n          } else if (charCode < 0x800) {\n            utf8data.push(0xc0 | (charCode >> 6));\n            utf8data.push(0x80 | (charCode & 0x3f));\n          } else if (charCode < 0xd800) {\n            utf8data.push(0xe0 | (charCode >> 12));\n            utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n            utf8data.push(0x80 | (charCode & 0x3f));\n          } else {\n            charCode = (charCode & 0x3ff) << 10;\n            charCode |= value.charCodeAt(++i) & 0x3ff;\n            charCode += 0x10000;\n\n            utf8data.push(0xf0 | (charCode >> 18));\n            utf8data.push(0x80 | ((charCode >> 12) & 0x3f));\n            utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n            utf8data.push(0x80 | (charCode & 0x3f));\n          }\n        }\n\n        writeTypeAndLength(3, utf8data.length);\n        return writeUint8Array(utf8data);\n\n      default:\n        if (Array.isArray(value)) {\n          length = value.length;\n          writeTypeAndLength(4, length);\n          for (i = 0; i < length; ++i) {\n            encodeItem(value[i]);\n          }\n        } else if (value instanceof Uint8Array) {\n          writeTypeAndLength(2, value.length);\n          writeUint8Array(value);\n        } else {\n          const keys = Object.keys(value);\n          length = keys.length;\n          writeTypeAndLength(5, length);\n          for (i = 0; i < length; ++i) {\n            const key = keys[i];\n            encodeItem(key);\n            encodeItem(value[key]);\n          }\n        }\n    }\n  }\n\n  encodeItem(value);\n\n  if (\"slice\" in data) {\n    return data.slice(0, offset);\n  }\n\n  const ret = new ArrayBuffer(offset);\n  const retView = new DataView(ret);\n  for (let i = 0; i < offset; ++i) {\n    retView.setUint8(i, dataView.getUint8(i));\n  }\n  return ret;\n}\n\nexport function decode(data, tagger, simpleValue) {\n  const dataView = new DataView(data);\n  let offset = 0;\n\n  if (typeof tagger !== \"function\") {\n    tagger = function (value) {\n      return value;\n    };\n  }\n  if (typeof simpleValue !== \"function\") {\n    simpleValue = function () {\n      return undefined;\n    };\n  }\n\n  function commitRead(length, value) {\n    offset += length;\n    return value;\n  }\n  function readArrayBuffer(length) {\n    return commitRead(length, new Uint8Array(data, offset, length));\n  }\n  function readFloat16() {\n    const tempArrayBuffer = new ArrayBuffer(4);\n    const tempDataView = new DataView(tempArrayBuffer);\n    const value = readUint16();\n\n    const sign = value & 0x8000;\n    let exponent = value & 0x7c00;\n    const fraction = value & 0x03ff;\n\n    if (exponent === 0x7c00) {\n      exponent = 0xff << 10;\n    } else if (exponent !== 0) {\n      exponent += (127 - 15) << 10;\n    } else if (fraction !== 0) {\n      return (sign ? -1 : 1) * fraction * POW_2_24;\n    }\n\n    tempDataView.setUint32(0, (sign << 16) | (exponent << 13) | (fraction << 13));\n    return tempDataView.getFloat32(0);\n  }\n  function readFloat32() {\n    return commitRead(4, dataView.getFloat32(offset));\n  }\n  function readFloat64() {\n    return commitRead(8, dataView.getFloat64(offset));\n  }\n  function readUint8() {\n    return commitRead(1, dataView.getUint8(offset));\n  }\n  function readUint16() {\n    return commitRead(2, dataView.getUint16(offset));\n  }\n  function readUint32() {\n    return commitRead(4, dataView.getUint32(offset));\n  }\n  function readUint64() {\n    return readUint32() * POW_2_32 + readUint32();\n  }\n  function readBreak() {\n    if (dataView.getUint8(offset) !== 0xff) {\n      return false;\n    }\n    offset += 1;\n    return true;\n  }\n  function readLength(additionalInformation) {\n    if (additionalInformation < 24) {\n      return additionalInformation;\n    }\n    if (additionalInformation === 24) {\n      return readUint8();\n    }\n    if (additionalInformation === 25) {\n      return readUint16();\n    }\n    if (additionalInformation === 26) {\n      return readUint32();\n    }\n    if (additionalInformation === 27) {\n      return readUint64();\n    }\n    if (additionalInformation === 31) {\n      return -1;\n    }\n    throw new Error(\"Invalid length encoding\");\n  }\n  function readIndefiniteStringLength(majorType) {\n    const initialByte = readUint8();\n    if (initialByte === 0xff) {\n      return -1;\n    }\n    const length = readLength(initialByte & 0x1f);\n    if (length < 0 || initialByte >> 5 !== majorType) {\n      throw new Error(\"Invalid indefinite length element\");\n    }\n    return length;\n  }\n\n  function appendUtf16Data(utf16data, length) {\n    for (let i = 0; i < length; ++i) {\n      let value = readUint8();\n      if (value & 0x80) {\n        if (value < 0xe0) {\n          value = ((value & 0x1f) << 6) | (readUint8() & 0x3f);\n          length -= 1;\n        } else if (value < 0xf0) {\n          value = ((value & 0x0f) << 12) | ((readUint8() & 0x3f) << 6) | (readUint8() & 0x3f);\n          length -= 2;\n        } else {\n          value =\n            ((value & 0x0f) << 18) | ((readUint8() & 0x3f) << 12) | ((readUint8() & 0x3f) << 6) | (readUint8() & 0x3f);\n          length -= 3;\n        }\n      }\n\n      if (value < 0x10000) {\n        utf16data.push(value);\n      } else {\n        value -= 0x10000;\n        utf16data.push(0xd800 | (value >> 10));\n        utf16data.push(0xdc00 | (value & 0x3ff));\n      }\n    }\n  }\n\n  function decodeItem() {\n    const initialByte = readUint8();\n    const majorType = initialByte >> 5;\n    const additionalInformation = initialByte & 0x1f;\n    let i;\n    let length;\n\n    if (majorType === 7) {\n      switch (additionalInformation) {\n        case 25:\n          return readFloat16();\n        case 26:\n          return readFloat32();\n        case 27:\n          return readFloat64();\n      }\n    }\n\n    length = readLength(additionalInformation);\n    if (length < 0 && (majorType < 2 || majorType > 6)) {\n      throw new Error(\"Invalid length\");\n    }\n\n    const utf16data = [];\n    let retArray;\n    const retObject = {};\n\n    switch (majorType) {\n      case 0:\n        return length;\n      case 1:\n        return -1 - length;\n      case 2:\n        if (length < 0) {\n          const elements = [];\n          let fullArrayLength = 0;\n          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\n            fullArrayLength += length;\n            elements.push(readArrayBuffer(length));\n          }\n          const fullArray = new Uint8Array(fullArrayLength);\n          let fullArrayOffset = 0;\n          for (i = 0; i < elements.length; ++i) {\n            fullArray.set(elements[i], fullArrayOffset);\n            fullArrayOffset += elements[i].length;\n          }\n          return fullArray;\n        }\n        return readArrayBuffer(length);\n      case 3:\n        if (length < 0) {\n          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\n            appendUtf16Data(utf16data, length);\n          }\n        } else {\n          appendUtf16Data(utf16data, length);\n        }\n        return String.fromCharCode.apply(null, utf16data);\n      case 4:\n        if (length < 0) {\n          retArray = [];\n          while (!readBreak()) {\n            retArray.push(decodeItem());\n          }\n        } else {\n          retArray = new Array(length);\n          for (i = 0; i < length; ++i) {\n            retArray[i] = decodeItem();\n          }\n        }\n        return retArray;\n      case 5:\n        for (i = 0; i < length || (length < 0 && !readBreak()); ++i) {\n          const key = decodeItem();\n          retObject[key] = decodeItem();\n        }\n        return retObject;\n      case 6:\n        return tagger(decodeItem(), length);\n      case 7:\n        switch (length) {\n          case 20:\n            return false;\n          case 21:\n            return true;\n          case 22:\n            return null;\n          case 23:\n            return undefined;\n          default:\n            return simpleValue(length);\n        }\n    }\n  }\n\n  const ret = decodeItem();\n  if (offset !== data.byteLength) {\n    throw new Error(\"Remaining bytes\");\n  }\n  return ret;\n}\n\nexport const CBOR = {\n  encode,\n  decode,\n};\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2023 Laird Connectivity\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * @file mcumgr\n * @brief Provides MCU manager operation functions for the Xbit USB Shell.\n * This file is inspired by the MIT licensed mcumgr file originally\n * authored by Andras Barthazi (https://github.com/boogie/mcumgr-web),\n * updated to also support file upload/download over SMP.\n */\n\nimport { CBOR } from \"./cbor\";\nimport { createConsole } from \"./Console\";\n\nconst _console = createConsole(\"mcumgr\", { log: true });\n\nexport const constants = {\n  // Opcodes\n  MGMT_OP_READ: 0,\n  MGMT_OP_READ_RSP: 1,\n  MGMT_OP_WRITE: 2,\n  MGMT_OP_WRITE_RSP: 3,\n\n  // Groups\n  MGMT_GROUP_ID_OS: 0,\n  MGMT_GROUP_ID_IMAGE: 1,\n  MGMT_GROUP_ID_STAT: 2,\n  MGMT_GROUP_ID_CONFIG: 3,\n  MGMT_GROUP_ID_LOG: 4,\n  MGMT_GROUP_ID_CRASH: 5,\n  MGMT_GROUP_ID_SPLIT: 6,\n  MGMT_GROUP_ID_RUN: 7,\n  MGMT_GROUP_ID_FS: 8,\n  MGMT_GROUP_ID_SHELL: 9,\n\n  // OS group\n  OS_MGMT_ID_ECHO: 0,\n  OS_MGMT_ID_CONS_ECHO_CTRL: 1,\n  OS_MGMT_ID_TASKSTAT: 2,\n  OS_MGMT_ID_MPSTAT: 3,\n  OS_MGMT_ID_DATETIME_STR: 4,\n  OS_MGMT_ID_RESET: 5,\n\n  // Image group\n  IMG_MGMT_ID_STATE: 0,\n  IMG_MGMT_ID_UPLOAD: 1,\n  IMG_MGMT_ID_FILE: 2,\n  IMG_MGMT_ID_CORELIST: 3,\n  IMG_MGMT_ID_CORELOAD: 4,\n  IMG_MGMT_ID_ERASE: 5,\n\n  // Filesystem group\n  FS_MGMT_ID_FILE: 0,\n};\n\nexport class MCUManager {\n  constructor() {\n    this._mtu = 256;\n    this._messageCallback = null;\n    this._imageUploadProgressCallback = null;\n    this._imageUploadNextCallback = null;\n    this._fileUploadProgressCallback = null;\n    this._fileUploadNextCallback = null;\n    this._uploadIsInProgress = false;\n    this._downloadIsInProgress = false;\n    this._buffer = new Uint8Array();\n    this._seq = 0;\n  }\n\n  onMessage(callback) {\n    this._messageCallback = callback;\n    return this;\n  }\n\n  onImageUploadNext(callback) {\n    this._imageUploadNextCallback = callback;\n    return this;\n  }\n\n  onImageUploadProgress(callback) {\n    this._imageUploadProgressCallback = callback;\n    return this;\n  }\n\n  onImageUploadFinished(callback) {\n    this._imageUploadFinishedCallback = callback;\n    return this;\n  }\n\n  onFileUploadNext(callback) {\n    this._fileUploadNextCallback = callback;\n    return this;\n  }\n\n  onFileUploadProgress(callback) {\n    this._fileUploadProgressCallback = callback;\n    return this;\n  }\n\n  onFileUploadFinished(callback) {\n    this._fileUploadFinishedCallback = callback;\n    return this;\n  }\n\n  onFileDownloadNext(callback) {\n    this._fileDownloadNextCallback = callback;\n    return this;\n  }\n\n  onFileDownloadProgress(callback) {\n    this._fileDownloadProgressCallback = callback;\n    return this;\n  }\n\n  onFileDownloadFinished(callback) {\n    this._fileDownloadFinishedCallback = callback;\n    return this;\n  }\n\n  _getMessage(op, group, id, data) {\n    const _flags = 0;\n    let encodedData = [];\n    if (typeof data !== \"undefined\") {\n      encodedData = [...new Uint8Array(CBOR.encode(data))];\n    }\n    const lengthLo = encodedData.length & 255;\n    const lengthHi = encodedData.length >> 8;\n    const groupLo = group & 255;\n    const groupHi = group >> 8;\n    const message = [op, _flags, lengthHi, lengthLo, groupHi, groupLo, this._seq, id, ...encodedData];\n    this._seq = (this._seq + 1) % 256;\n\n    return message;\n  }\n\n  _notification(buffer) {\n    _console.log(\"mcumgr - message received\");\n    const message = new Uint8Array(buffer);\n    this._buffer = new Uint8Array([...this._buffer, ...message]);\n    const messageLength = this._buffer[2] * 256 + this._buffer[3];\n    if (this._buffer.length < messageLength + 8) return;\n    this._processMessage(this._buffer.slice(0, messageLength + 8));\n    this._buffer = this._buffer.slice(messageLength + 8);\n  }\n\n  _processMessage(message) {\n    const [op, , lengthHi, lengthLo, groupHi, groupLo, , id] = message;\n    const data = CBOR.decode(message.slice(8).buffer);\n    const length = lengthHi * 256 + lengthLo;\n    const group = groupHi * 256 + groupLo;\n\n    _console.log(\"mcumgr - Process Message - Group: \" + group + \", Id: \" + id + \", Off: \" + data.off);\n    if (group === constants.MGMT_GROUP_ID_IMAGE && id === constants.IMG_MGMT_ID_UPLOAD && data.off) {\n      this._uploadOffset = data.off;\n      this._uploadNext();\n      return;\n    }\n    if (\n      op === constants.MGMT_OP_WRITE_RSP &&\n      group === constants.MGMT_GROUP_ID_FS &&\n      id === constants.FS_MGMT_ID_FILE &&\n      data.off\n    ) {\n      this._uploadFileOffset = data.off;\n      this._uploadFileNext();\n      return;\n    }\n    if (op === constants.MGMT_OP_READ_RSP && group === constants.MGMT_GROUP_ID_FS && id === constants.FS_MGMT_ID_FILE) {\n      this._downloadFileOffset += data.data.length;\n      if (data.len != undefined) {\n        this._downloadFileLength = data.len;\n      }\n      _console.log(\"downloaded \" + this._downloadFileOffset + \" bytes of \" + this._downloadFileLength);\n      if (this._downloadFileLength > 0) {\n        this._fileDownloadProgressCallback({\n          percentage: Math.floor((this._downloadFileOffset / this._downloadFileLength) * 100),\n        });\n      }\n      if (this._messageCallback) this._messageCallback({ op, group, id, data, length });\n      this._downloadFileNext();\n      return;\n    }\n\n    if (this._messageCallback) this._messageCallback({ op, group, id, data, length });\n  }\n\n  cmdReset() {\n    return this._getMessage(constants.MGMT_OP_WRITE, constants.MGMT_GROUP_ID_OS, constants.OS_MGMT_ID_RESET);\n  }\n\n  smpEcho(message) {\n    return this._getMessage(constants.MGMT_OP_WRITE, constants.MGMT_GROUP_ID_OS, constants.OS_MGMT_ID_ECHO, {\n      d: message,\n    });\n  }\n\n  cmdImageState() {\n    return this._getMessage(constants.MGMT_OP_READ, constants.MGMT_GROUP_ID_IMAGE, constants.IMG_MGMT_ID_STATE);\n  }\n\n  cmdImageErase() {\n    return this._getMessage(constants.MGMT_OP_WRITE, constants.MGMT_GROUP_ID_IMAGE, constants.IMG_MGMT_ID_ERASE, {});\n  }\n\n  cmdImageTest(hash) {\n    return this._getMessage(constants.MGMT_OP_WRITE, constants.MGMT_GROUP_ID_IMAGE, constants.IMG_MGMT_ID_STATE, {\n      hash,\n      confirm: false,\n    });\n  }\n\n  cmdImageConfirm(hash) {\n    return this._getMessage(constants.MGMT_OP_WRITE, constants.MGMT_GROUP_ID_IMAGE, constants.IMG_MGMT_ID_STATE, {\n      hash,\n      confirm: true,\n    });\n  }\n\n  _hash(image) {\n    return crypto.subtle.digest(\"SHA-256\", image);\n  }\n\n  async _uploadNext() {\n    if (!this._uploadImage) {\n      return;\n    }\n\n    if (this._uploadOffset >= this._uploadImage.byteLength) {\n      this._uploadIsInProgress = false;\n      this._imageUploadFinishedCallback();\n      return;\n    }\n\n    const nmpOverhead = 8;\n    const message = { data: new Uint8Array(), off: this._uploadOffset };\n    if (this._uploadOffset === 0) {\n      message.len = this._uploadImage.byteLength;\n      message.sha = new Uint8Array(await this._hash(this._uploadImage));\n    }\n    this._imageUploadProgressCallback({\n      percentage: Math.floor((this._uploadOffset / this._uploadImage.byteLength) * 100),\n    });\n\n    const length = this._mtu - CBOR.encode(message).byteLength - nmpOverhead - 3 - 5;\n\n    message.data = new Uint8Array(this._uploadImage.slice(this._uploadOffset, this._uploadOffset + length));\n\n    this._uploadOffset += length;\n\n    const packet = this._getMessage(\n      constants.MGMT_OP_WRITE,\n      constants.MGMT_GROUP_ID_IMAGE,\n      constants.IMG_MGMT_ID_UPLOAD,\n      message\n    );\n\n    _console.log(\"mcumgr - _uploadNext: Message Length: \" + packet.length);\n\n    this._imageUploadNextCallback({ packet });\n  }\n  async reset() {\n    this._messageCallback = null;\n    this._imageUploadProgressCallback = null;\n    this._imageUploadNextCallback = null;\n    this._fileUploadProgressCallback = null;\n    this._fileUploadNextCallback = null;\n    this._uploadIsInProgress = false;\n    this._downloadIsInProgress = false;\n    this._buffer = new Uint8Array();\n    this._seq = 0;\n  }\n\n  async cmdUpload(image, slot = 0) {\n    if (this._uploadIsInProgress) {\n      _console.error(\"Upload is already in progress.\");\n      return;\n    }\n    this._uploadIsInProgress = true;\n\n    this._uploadOffset = 0;\n    this._uploadImage = image;\n    this._uploadSlot = slot;\n\n    this._uploadNext();\n  }\n\n  async cmdUploadFile(filebuf, destFilename) {\n    if (this._uploadIsInProgress) {\n      _console.error(\"Upload is already in progress.\");\n      return;\n    }\n    this._uploadIsInProgress = true;\n    this._uploadFileOffset = 0;\n    this._uploadFile = filebuf;\n    this._uploadFilename = destFilename;\n\n    this._uploadFileNext();\n  }\n\n  async _uploadFileNext() {\n    _console.log(\"uploadFileNext - offset: \" + this._uploadFileOffset + \", length: \" + this._uploadFile.byteLength);\n\n    if (this._uploadFileOffset >= this._uploadFile.byteLength) {\n      this._uploadIsInProgress = false;\n      this._fileUploadFinishedCallback();\n      return;\n    }\n\n    const nmpOverhead = 8;\n    const message = { data: new Uint8Array(), off: this._uploadFileOffset };\n    if (this._uploadFileOffset === 0) {\n      message.len = this._uploadFile.byteLength;\n    }\n    message.name = this._uploadFilename;\n    this._fileUploadProgressCallback({\n      percentage: Math.floor((this._uploadFileOffset / this._uploadFile.byteLength) * 100),\n    });\n\n    const length = this._mtu - CBOR.encode(message).byteLength - nmpOverhead;\n\n    message.data = new Uint8Array(this._uploadFile.slice(this._uploadFileOffset, this._uploadFileOffset + length));\n\n    this._uploadFileOffset += length;\n\n    const packet = this._getMessage(\n      constants.MGMT_OP_WRITE,\n      constants.MGMT_GROUP_ID_FS,\n      constants.FS_MGMT_ID_FILE,\n      message\n    );\n\n    _console.log(\"mcumgr - _uploadNext: Message Length: \" + packet.length);\n\n    this._fileUploadNextCallback({ packet });\n  }\n\n  async cmdDownloadFile(filename, destFilename) {\n    if (this._downloadIsInProgress) {\n      _console.error(\"Download is already in progress.\");\n      return;\n    }\n    this._downloadIsInProgress = true;\n    this._downloadFileOffset = 0;\n    this._downloadFileLength = 0;\n    this._downloadRemoteFilename = filename;\n    this._downloadLocalFilename = destFilename;\n\n    this._downloadFileNext();\n  }\n\n  async _downloadFileNext() {\n    if (this._downloadFileLength > 0) {\n      if (this._downloadFileOffset >= this._downloadFileLength) {\n        this._downloadIsInProgress = false;\n        this._fileDownloadFinishedCallback();\n        return;\n      }\n    }\n\n    const message = { off: this._downloadFileOffset };\n    if (this._downloadFileOffset === 0) {\n      message.name = this._downloadRemoteFilename;\n    }\n\n    const packet = this._getMessage(\n      constants.MGMT_OP_READ,\n      constants.MGMT_GROUP_ID_FS,\n      constants.FS_MGMT_ID_FILE,\n      message\n    );\n    _console.log(\"mcumgr - _downloadNext: Message Length: \" + packet.length);\n    this._fileDownloadNextCallback({ packet });\n  }\n\n  async imageInfo(image) {\n    const info = {};\n    const view = new Uint8Array(image);\n\n    // check header length\n    if (view.length < 32) {\n      throw new Error(\"Invalid image (too short file)\");\n    }\n\n    // check MAGIC bytes 0x96f3b83d\n    if (view[0] !== 0x3d || view[1] !== 0xb8 || view[2] !== 0xf3 || view[3] !== 0x96) {\n      throw new Error(\"Invalid image (wrong magic bytes)\");\n    }\n\n    // check load address is 0x00000000\n    if (view[4] !== 0x00 || view[5] !== 0x00 || view[6] !== 0x00 || view[7] !== 0x00) {\n      throw new Error(\"Invalid image (wrong load address)\");\n    }\n\n    const headerSize = view[8] + view[9] * 2 ** 8;\n\n    // check protected TLV area size is 0\n    if (view[10] !== 0x00 || view[11] !== 0x00) {\n      throw new Error(\"Invalid image (wrong protected TLV area size)\");\n    }\n\n    const imageSize = view[12] + view[13] * 2 ** 8 + view[14] * 2 ** 16 + view[15] * 2 ** 24;\n    info.imageSize = imageSize;\n\n    // check image size is correct\n    if (view.length < imageSize + headerSize) {\n      throw new Error(\"Invalid image (wrong image size)\");\n    }\n\n    // check flags is 0x00000000\n    if (view[16] !== 0x00 || view[17] !== 0x00 || view[18] !== 0x00 || view[19] !== 0x00) {\n      throw new Error(\"Invalid image (wrong flags)\");\n    }\n\n    const version = `${view[20]}.${view[21]}.${view[22] + view[23] * 2 ** 8}`;\n    info.version = version;\n\n    info.hash = [...new Uint8Array(await this._hash(image.slice(0, imageSize + 32)))]\n      .map((b) => b.toString(16).padStart(2, \"0\"))\n      .join(\"\");\n\n    return info;\n  }\n}\n",null,null,null,null,null,null,null,null,null],"names":[],"mappings":"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;;;AAIA;AACO;;AAEP;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;;;;AAIA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;;;;;;;;;;AAYA;AACA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;;;;;AAKA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;;;;;;AAOA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;;;;;;AAMA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;;;AAIA;AACA;AACA;AACA;;;;AAIA;AACO;AACP;AACA;;;AC3aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAWA;AACA;AACA;AACO;AACP;;;;;AAKA;AACA;;;;;;;;;;;AAWA;AACA;;;;;;;AAOA;AACA;;;;;;;AAOA;AACA;;AAEA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;;;AAIA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;;ACpbA;AAEO;AAGA;AACL;;;;;;AAQK;AAyBP;AAGE;;;;;;;;;AACE;;;AAKA;;;AAMA;;;AAGA;;;;;AAOE;;;;;;;;;;;AAcF;;;;;AAQA;;;;;;;;;;;AAqCA;;;;AAMF;AACE;AACA;;AAEE;;;;AAIA;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","x_google_ignoreList":[0]}